{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { onSnapshot, collection, query } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nconst useCollection = data => {\n  _s();\n  const [documents, setDocuments] = useState([]);\n  const collectionRef = query(collection(db, data));\n  useEffect(() => {\n    onSnapshot(collectionRef, querySnapshot => {\n      const channelsResult = [];\n      querySnapshot.docs.forEach(doc => channelsResult.push({\n        id: doc.id,\n        channel: doc.data()\n      }));\n      setDocuments(channelsResult);\n    });\n  }, []);\n  return {\n    documents\n  };\n};\n_s(useCollection, \"yer53JIs/Enm5EWW99jBywEKfS0=\");\nexport default useCollection;","map":{"version":3,"names":["useEffect","useState","onSnapshot","collection","query","db","useCollection","data","_s","documents","setDocuments","collectionRef","querySnapshot","channelsResult","docs","forEach","doc","push","id","channel"],"sources":["/Users/matsumotoyuyya/udemy/src/hooks/useCollection.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  onSnapshot,\n  collection,\n  query,\n  DocumentData,\n  Query,\n} from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\ninterface Channels {\n  id: string;\n  channel: DocumentData;\n}\n\nconst useCollection = (data: string) => {\n  const [documents, setDocuments] = useState<Channels[]>([]);\n  const collectionRef: Query<DocumentData> = query(collection(db, data));\n  useEffect(() => {\n    onSnapshot(collectionRef, (querySnapshot) => {\n      const channelsResult: Channels[] = [];\n      querySnapshot.docs.forEach((doc) =>\n        channelsResult.push({\n          id: doc.id,\n          channel: doc.data(),\n        })\n      );\n      setDocuments(channelsResult);\n    });\n  }, []);\n\n  return { documents };\n};\n\nexport default useCollection;\n"],"mappings":";AAAA,SAAgBA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SACEC,UAAU,EACVC,UAAU,EACVC,KAAK,QAGA,oBAAoB;AAC3B,SAASC,EAAE,QAAQ,aAAa;AAOhC,MAAMC,aAAa,GAAIC,IAAY,IAAK;EAAAC,EAAA;EACtC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAa,EAAE,CAAC;EAC1D,MAAMU,aAAkC,GAAGP,KAAK,CAACD,UAAU,CAACE,EAAE,EAAEE,IAAI,CAAC,CAAC;EACtEP,SAAS,CAAC,MAAM;IACdE,UAAU,CAACS,aAAa,EAAGC,aAAa,IAAK;MAC3C,MAAMC,cAA0B,GAAG,EAAE;MACrCD,aAAa,CAACE,IAAI,CAACC,OAAO,CAAEC,GAAG,IAC7BH,cAAc,CAACI,IAAI,CAAC;QAClBC,EAAE,EAAEF,GAAG,CAACE,EAAE;QACVC,OAAO,EAAEH,GAAG,CAACT,IAAI,CAAC;MACpB,CAAC,CACH,CAAC;MACDG,YAAY,CAACG,cAAc,CAAC;IAC9B,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEJ;EAAU,CAAC;AACtB,CAAC;AAACD,EAAA,CAjBIF,aAAa;AAmBnB,eAAeA,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}